<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Détail du Professeur</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<h1 class="page-title">Détail du Professeur</h1>

<div class="card center">
    <h2 th:text="${professeur.prenom + ' ' + professeur.nom}"></h2>
    <p th:text="${professeur.email}"></p>
</div>

<div class="stats">
    <div class="stat-box">
        <div class="stat-number" th:text="${#lists.size(professeur.classes)}">0</div>
        <div class="stat-label">Classes</div>
    </div>

    <div class="stat-box">
        <div class="stat-number" th:text="${totalEleves}">0</div>
        <div class="stat-label">Élèves</div>
    </div>
</div>

<div class="card mt-30">
    <h2>Classes enseignées</h2>

    <ul>
        <li th:each="c : ${professeur.classes}">
            <strong th:text="${c.nom}"></strong> —
            <span th:text="${c.niveau}"></span> —
            <span th:text="${c.matiere}"></span> —
            <span th:text="${c.nombreEleves + ' élèves'}"></span>
        </li>

        <li th:if="${#lists.isEmpty(professeur.classes)}">
            Aucune classe assignée.
        </li>
    </ul>
</div>

<div class="top-actions mt-30">
    <a th:href="@{/professeurs/{id}/edit(id=${professeur.id})}" class="btn btn-primary">Modifier</a>
    <a th:href="@{/professeurs/{id}/delete(id=${professeur.id})}"
       class="btn btn-danger"
       onclick="return confirm('Supprimer ce professeur ?');">
        Supprimer
    </a>
    <a th:href="@{/professeurs/}" class="btn btn-secondary">Retour</a>
</div>

<div class="footer">© 2025 Spring School System</div>

</body>
</html>
